(this["webpackJsonppic-gallery"]=this["webpackJsonppic-gallery"]||[]).push([[0],{19:function(e,a,t){"use strict";var n=t(0),o=t.n(n),s=t(1),r=t(2),l=t(4),i=t(3),c=(t(28),function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={},n}return Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"search-container"},o.a.createElement("div",{className:"search-bar-area"},o.a.createElement("div",{className:"title"},o.a.createElement("span",null,"Picture Gallery")),o.a.createElement("div",{className:"search-bar-input-box"},o.a.createElement("input",{type:"text",className:"search-bar search-bar-text",placeholder:"Search Images",onKeyUp:this.props.onKeypress}))))}}]),t}(n.Component)),m=t(5),u=t(9),d=t.n(u),p=(t(43),function(e){var a=e.user,t=e.onMouseOver,n=void 0!==t&&t,s=e.link,r=e.download;a||(a={profile_image:{large:""},username:""});return o.a.createElement("div",{className:"image-buttons-container ".concat(!1===n?"hidden":"visible")},o.a.createElement("div",{className:"image-shadow"}),o.a.createElement("div",{className:"image-buttons image-buttons-top"},o.a.createElement("button",{className:"fas fa-heart"}),o.a.createElement("button",{className:"fas fa-plus"}," Collect")),o.a.createElement("div",{className:"image-buttons image-buttons-bottom"},o.a.createElement("span",{className:"image-buttons-profile"},o.a.createElement("div",null,o.a.createElement("img",{src:a.profile_image.large,alt:a.username})),o.a.createElement("div",{className:"image-buttons-profile-username"},a.username)),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),r(s)},className:"fas fa-arrow-down"})))}),h=(t(44),function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n,o=e.props;return Object(s.a)(this,t),(n=a.call(this,o)).submitInfo=function(){n.props.onClick(n.props.src,n.props.user,n.props.img,n.props.download,n.props.link)},n.onMouseOver=function(){n.setState({hover:!0})},n.onMouseLeave=function(){n.setState({hover:!1})},n.state={hover:!1},n}return Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"picture show-up"},o.a.createElement("a",{href:"#none",onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onClick:this.submitInfo},o.a.createElement("img",{className:"unsplash-img",src:this.props.src.regular,alt:""}),o.a.createElement(p,{user:this.props.user,onMouseOver:this.state.hover,link:this.props.link,download:this.props.download})))}}]),t}(n.Component)),v=(t(45),function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n,o=e.props;return Object(s.a)(this,t),(n=a.call(this,o)).changeModalImg=function(){!0===n.state.isSmall?n.setState({isSmall:!1}):n.setState({isSmall:!0})},n.onMouseOverImg=function(){n.setState({imgHover:!0})},n.onMouseLeaveImg=function(){n.setState({imgHover:!1})},n.clickDownload=function(){n.props.modalDownload(n.props.modalDownloadlink)},n.state={isSmall:!0,imgHover:!1},n}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"image-modal-portal ".concat(!1===this.props.modalShow?"hidden":"visible")},o.a.createElement("div",{className:"image-modal-close"},o.a.createElement("button",{className:"fas fa-times",onClick:function(){e.setState({isSmall:!0}),e.props.onClickCloseModal()}})),o.a.createElement("div",{className:"image-modal"},o.a.createElement("div",null,o.a.createElement("div",{className:"image-modal-header"},o.a.createElement("span",{className:"image-buttons-profile"},o.a.createElement("div",null,o.a.createElement("img",{src:null===this.props.modalUser?"":this.props.modalUser.profile_image.large,alt:null===this.props.modalUser?"":this.props.modalUser.username})),o.a.createElement("div",{className:"image-buttons-profile-username",style:{color:"black"}},null===this.props.modalUser?"":this.props.modalUser.username)),o.a.createElement("div",{className:"image-buttons image-buttons-top",style:{position:"relative",display:"inline-flex",top:"initial"}},o.a.createElement("button",{className:"fas fa-heart"}),o.a.createElement("button",{className:"fas fa-plus"},o.a.createElement("span",null," Collect")),o.a.createElement("button",{className:"fas fa-download",onClick:this.clickDownload},o.a.createElement("span",null," Download")))),o.a.createElement("div",{className:"image-modal-body"},o.a.createElement("div",null,o.a.createElement("a",{href:"#none",onClick:this.changeModalImg,onMouseOver:this.onMouseOverImg,onMouseLeave:this.onMouseLeaveImg,style:{active:"none"}},o.a.createElement("i",{className:"fas fa-expand ".concat(!1===this.state.imgHover?"hidden":"visible")}),o.a.createElement("img",{src:!0===this.state.isSmall?this.props.modalSrc:this.props.modalImg.urls.regular,alt:""})))),o.a.createElement("div",null,o.a.createElement("div",null)))))}}]),t}(n.Component)),f=t(18),g=new(function(){function e(){Object(s.a)(this,e)}return Object(r.a)(e,[{key:"chunkArray",value:function(e,a){for(var t=[];e.length;)t.push(e.splice(0,a));return t}},{key:"copyArray",value:function(e){var a,t=[],n=Object(f.a)(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;t.push(o)}}catch(s){n.e(s)}finally{n.f()}return t}}]),e}()),b=(t(46),function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).debounce=function(e,a){var t;return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var r=function(){t=null,e.apply(void 0,o)};clearTimeout(t),t=setTimeout(r,a)}},n.resizeImgArray=function(){var e=g.copyArray(n.state.originalArray),a=n.getChunkSize()*n.state.page,t=g.chunkArray(e,a);n.setState({images:t,chunkSize:a})},n.onClickPic=function(e,a,t,o,s){n.setState({modalSrc:e.small,modalUser:a,modalShow:!0,modalImg:t,modalDownload:o,modalDownloadlink:s}),document.body.classList.add("body-modal-open")},n.onClickCloseModal=function(){n.setState({modalShow:!1}),document.body.classList.remove("body-modal-open")},n.download=function(e){window.open(e,"_blank")},n.state={page:1,perPage:9,images:[],originalArray:[],modalShow:!1,modalSrc:"",modalUser:null,modalImg:null,chunkSize:3},n.searchUnsplashAPI(n.props.keyword,n.state.page,n.state.perPage),n}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.debounce(this.resizeImgArray,1e3);window.addEventListener("scroll",this.handleScroll.bind(this)),window.addEventListener("resize",e)}},{key:"componentDidUpdate",value:function(e){e.keyword!==this.props.keyword&&(this.initState(),this.searchUnsplashAPI(this.props.keyword,1,9))}},{key:"componentWillMount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.resizeImgArray)}},{key:"initState",value:function(){this.setState({page:1,perPage:9,images:[],originalArray:[],chunkSize:3})}},{key:"handleScroll",value:function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,a=document.body,t=document.documentElement,n=Math.max(a.scrollHeight,a.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);e+window.pageYOffset>=n-200&&(this.setState({page:this.state.page+1}),this.searchUnsplashAPI(this.props.keyword,this.state.page,this.state.perPage))}},{key:"searchUnsplashAPI",value:function(e,a,t){var n=this;new d.a({accessKey:"c6cb812211b9bbe3a04c9509dd69bc4dffaf796877a88526d8292e1a784866c8",secret:"1b1d49f833c6a26b16a144d38ca9f2911370d66d14972e661b7924071e96d687",callbackUrl:"https://hyunse.github.io/pic-gallery/"}).search.photos(e,a,t).then(u.toJson).then((function(e){if(e.results){var a=n.getChunkSize(),t=g.copyArray(e.results),o=g.copyArray(n.state.images),s=g.chunkArray(e.results,a);o.length>0&&(s=o.map((function(e,a){return s[a]?[].concat(Object(m.a)(e),Object(m.a)(s[a])):Object(m.a)(e)}))),n.setState({images:s}),n.setState((function(e){var a=e.originalArray;return{originalArray:a.length<1?Object(m.a)(t):[].concat(Object(m.a)(a),Object(m.a)(t))}}))}}))}},{key:"getChunkSize",value:function(){var e=window.innerWidth;return e>700&&e<950?5:e>=950?3:9}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.state.images.map((function(a,t){return o.a.createElement("div",{className:"column",key:t},a.map((function(a,t){return o.a.createElement(h,{img:a,src:a.urls,link:a.links.download,download:e.download,user:a.user,key:"".concat(a.id)+t,onClick:e.onClickPic})})))})))),o.a.createElement(v,{modalShow:this.state.modalShow,modalUser:this.state.modalUser,modalSrc:this.state.modalSrc,modalDownloadlink:this.state.modalDownloadlink,modalImg:this.state.modalImg,modalDownload:this.state.modalDownload,onClickCloseModal:this.onClickCloseModal}))}}]),t}(n.Component)),y=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).onKeypress=function(e){var a=e.target.value;"Enter"===e.key&&a!==n.state.keyword&&n.setState({keyword:a})},n.state={keyword:"puppy"},n}return Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(c,{onKeypress:this.onKeypress}),o.a.createElement(b,{keyword:this.state.keyword}))}}]),t}(n.Component);t(47);a.a=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null))}},20:function(e,a,t){e.exports=t(21)},21:function(e,a,t){"use strict";t.r(a),function(e){var a=t(15),n=t.n(a),o=t(0),s=t.n(o),r=t(16),l=t.n(r),i=t(17),c=t.n(i),m=t(19);n.a.config(),e.fetch=c.a,l.a.render(s.a.createElement(m.a,null),document.getElementById("root"))}.call(this,t(8))},28:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){}},[[20,1,2]]]);
//# sourceMappingURL=main.4a068ee1.chunk.js.map